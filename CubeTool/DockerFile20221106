FROM ubuntu
RUN apt-get update --fix-missing
RUN apt-get -y install tzdata
RUN apt-get -y install apache2
RUN apt-get -y install php7.4
RUN apt-get -y install git
RUN apt-get -y install make
RUN apt-get -y install libhtml-parser-perl
RUN apt-get -y install postgresql-client
RUN apt-get -y install php-pgsql


RUN mkdir Systems
COPY CubeGen.pl Systems
RUN chmod +x /Systems/CubeGen.pl

RUN mkdir Systems/CubeTool
COPY PgTest.sh Systems/CubeTool
COPY CubeTool.sh Systems/CubeTool
COPY Makefile Systems/CubeTool

COPY CubeBoModel.cgm Systems/CubeTool

RUN mkdir git
RUN git clone https://github.com/JohanMeijdam/CubeTool /git

#RUN echo "Docker CompoSYS" > /var/www/html/index.html
COPY www /var/www/html
EXPOSE 80
CMD ["/usr/sbin/apachectl", "-D", "FOREGROUND"]

